---
layout: default
tag: 1carticle
title: MongoLab REST API из 1С. Первые шаги.
photo_url: /images/2015-01-30-mongolab-rest-api-iz-1s-pervye-shagi/head.png
excerpt_separator: <!--more-->
---
<!--В этой статье хочу познакомить читателей из сервисом MongoLab. Там мы можем получить 500 бесплатных мегабайт пространства для тестов, а также удобный REST api, с помощью которого, у нас получиться поковырять данный сервис из 1С..-->
<!--more-->
<div class="container">

  <div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-10">
      <h2><p class="text-center text-uppercase">MongoLab REST API из 1С. Первые шаги.</p></h2>
    </div>
    <div class="col-sm-1"></div>
  </div>

  <div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-10">
      <p class="text-fluid">В мире 1С у нас наверняка никогда не будут использоваться документ-ориентированные базы данных, да еще как Saas. Мы обитаем в реляционной среде, нередко жалуемся на производительность и лишь единицы из нас могут соприкоснуться из задачами высоконагруженных сервисов. NoSQL базы данных сейчас в тренде и очень часто используются в мире наших соседей. Существует даже мнение – если вы не можете объяснить зачем вам нужна реляционная база, тогда используйте NoSQL. Хотя мы и не задаемся таким вопросом вообще, но де-факто у нас нету выбора. 1С печется о нас и частично скрывает проблемы нормализации базы и облегчает доступ к данным. Но все же, думаю, что когда-то у нас станет как у всех, хотя бы будет возможность выбора (недаром в 8.3.7 нам дадут сериализатор JSON).</p>
      <p class="text-fluid">В этой статье хочу познакомить читателей из сервисом MongoLab. Там мы можем получить 500 бесплатных мегабайт пространства для тестов, а также удобный REST api, с помощью которого, у нас получиться поковырять данный сервис из 1С.</p>
      <p class="text-fluid">После успешной регистрации нам необходимо узнать наш API key, с помощью которого будет проходить авторизация при POST/GET запросах к сервису. Узнать ключ можно в профиле пользователя, выглядит он примерно следующим образом.</p>
      <div class="text-center">
        <img src="/images/2015-01-30-mongolab-rest-api-iz-1s-pervye-shagi/api_key.png" alt="API KEY для сервиса MongoLab">
      </div>
      <p class="text-fluid">В принципе это все что нам нужно от сервиса. Теперь можно открывать любимый конфигуратор и что-нибудь написать.Для начала, давайте получим список баз, которые нам доступны. Выполним код.</p>
      <script src="https://gist.github.com/0xporky/796043c1e1f5557daaf42dac88f705e4.js"></script>
      <p class="text-fluid">В результате к нам придет очень простой ответ.</p>
      <pre><code>[ "test" ]</code></pre>
      <p class="text-fluid">И действительно у нас доступно только одна база.</p>
      <div class="text-center">
        <img src="/images/2015-01-30-mongolab-rest-api-iz-1s-pervye-shagi/test_database.png" alt="Список баз на сервисе MongoLab">
      </div>
      <p class="text-fluid">Теперь посмотрим сколько коллекций в нашей базе.</p>
      <script src="https://gist.github.com/0xporky/385cc5254cf388d8bc96699ddd0bcd0b.js"></script>
      <p class="text-fluid">Посмотрим на ответ.</p>
      <pre><code>[ "system.indexes" , "system.users" , "unicorns" ]</code></pre>
      <div class="text-center">
        <img src="/images/2015-01-30-mongolab-rest-api-iz-1s-pervye-shagi/collections.jpg" alt="Список коллекций в базе.">
      </div>
      <p class="text-fluid">Получения списка документов в коллекции осуществляется по накатанной схеме (изменяется только URL). Как видите, все очень просто. Давайте теперь усложним задачу и попробуем создать документ в коллекции. Для выполнения задачи на понадобится отправить сервису POST запрос, а в тело запроса добавить «текст запроса» в формате JSON.</p>
      <script src="https://gist.github.com/0xporky/fdb17c6ac0dae71b6e2b471267bc0046.js"></script>
      <p class="text-fluid">Давайте посмотрим что получилось.</p>
      <div class="text-center">
        <img src="/images/2015-01-30-mongolab-rest-api-iz-1s-pervye-shagi/document_created.png" alt="Документ созданный на сервисе MongoLab">
      </div>
      <p class="text-fluid">И действительно, документ создался. Вот так работают простые примеры из справки, вы можете попробовать все самостоятельно. У меня есть большие надежды что такая замечательная база как MongoDB или другое NoSQL решение все же будут использоваться в стеке 1С как говориться «из коробки».</p>
    </div>
    <div class="col-sm-1"></div>
  </div>

</div>
